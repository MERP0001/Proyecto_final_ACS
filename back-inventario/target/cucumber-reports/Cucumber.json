[{"line":3,"elements":[{"start_timestamp":"2025-08-27T05:59:01.995Z","before":[{"result":{"duration":40557200,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":9,"name":"Login exitoso con credenciales válidas","description":"","id":"sistema-de-autenticación-y-autorización;login-exitoso-con-credenciales-válidas","after":[{"result":{"duration":10993300,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"duration":17001300,"status":"passed"},"line":10,"name":"que tengo credenciales válidas:","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.queTengoCredencialesValidas(io.cucumber.datatable.DataTable)"},"rows":[{"cells":["email","admin@example.com"]},{"cells":["password","password"]}],"keyword":"Dado "},{"result":{"duration":447270300,"status":"passed"},"line":13,"name":"envío una solicitud de login","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.envioUnaSolicitudDeLogin()"},"keyword":"Cuando "},{"result":{"duration":105108100,"status":"passed"},"line":14,"name":"debo recibir un token JWT válido","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.deboRecibirUnTokenJWTValido()"},"keyword":"Entonces "},{"result":{"duration":8044500,"status":"passed"},"line":15,"name":"el token debe contener la información del usuario","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.elTokenDebeContenerLaInformacionDelUsuario()"},"keyword":"Y "},{"result":{"duration":8006100,"status":"passed"},"line":16,"name":"el token debe tener una fecha de expiración válida","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.elTokenDebeTenerUnaFechaDeExpiracionValida()"},"keyword":"Y "}],"tags":[{"name":"@autenticacion"},{"name":"@login-exitoso"}]},{"start_timestamp":"2025-08-27T05:59:02.779Z","before":[{"result":{"duration":2997600,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":29,"name":"Login fallido con credenciales inválidas","description":"","id":"sistema-de-autenticación-y-autorización;login-fallido-con-credenciales-inválidas;;2","after":[{"result":{"duration":4001500,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Esquema del escenario","steps":[{"result":{"duration":1001200,"status":"passed"},"line":20,"name":"que tengo las siguientes credenciales:","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.queTengoLasSiguientesCredenciales(io.cucumber.datatable.DataTable)"},"rows":[{"cells":["email","password"]},{"cells":["admin@example.com","wrongpass"]}],"keyword":"Dado "},{"result":{"duration":1013100,"status":"passed"},"line":23,"name":"envío una solicitud de login","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.envioUnaSolicitudDeLogin()"},"keyword":"Cuando "},{"result":{"duration":983200,"status":"passed"},"line":24,"name":"debo recibir un error de autenticación","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.deboRecibirUnErrorDeAutenticacion()"},"keyword":"Entonces "},{"result":{"duration":1001600,"status":"passed"},"line":25,"name":"no debo recibir un token","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.noDeboRecibirUnToken()"},"keyword":"Y "}],"tags":[{"name":"@autenticacion"},{"name":"@login-fallido"}]},{"start_timestamp":"2025-08-27T05:59:02.843Z","before":[{"result":{"duration":2999800,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":30,"name":"Login fallido con credenciales inválidas","description":"","id":"sistema-de-autenticación-y-autorización;login-fallido-con-credenciales-inválidas;;3","after":[{"result":{"duration":3994200,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Esquema del escenario","steps":[{"result":{"duration":1517000,"status":"passed"},"line":20,"name":"que tengo las siguientes credenciales:","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.queTengoLasSiguientesCredenciales(io.cucumber.datatable.DataTable)"},"rows":[{"cells":["email","password"]},{"cells":["wrong@example.com","password"]}],"keyword":"Dado "},{"result":{"status":"passed"},"line":23,"name":"envío una solicitud de login","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.envioUnaSolicitudDeLogin()"},"keyword":"Cuando "},{"result":{"status":"passed"},"line":24,"name":"debo recibir un error de autenticación","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.deboRecibirUnErrorDeAutenticacion()"},"keyword":"Entonces "},{"result":{"status":"passed"},"line":25,"name":"no debo recibir un token","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.noDeboRecibirUnToken()"},"keyword":"Y "}],"tags":[{"name":"@autenticacion"},{"name":"@login-fallido"}]},{"start_timestamp":"2025-08-27T05:59:02.897Z","before":[{"result":{"duration":1994900,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":31,"name":"Login fallido con credenciales inválidas","description":"","id":"sistema-de-autenticación-y-autorización;login-fallido-con-credenciales-inválidas;;4","after":[{"result":{"duration":1990200,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Esquema del escenario","steps":[{"result":{"duration":1005300,"status":"passed"},"line":20,"name":"que tengo las siguientes credenciales:","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.queTengoLasSiguientesCredenciales(io.cucumber.datatable.DataTable)"},"rows":[{"cells":["email","password"]},{"cells":["\"\"","password"]}],"keyword":"Dado "},{"result":{"status":"passed"},"line":23,"name":"envío una solicitud de login","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.envioUnaSolicitudDeLogin()"},"keyword":"Cuando "},{"result":{"duration":1003200,"status":"passed"},"line":24,"name":"debo recibir un error de autenticación","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.deboRecibirUnErrorDeAutenticacion()"},"keyword":"Entonces "},{"result":{"duration":1006100,"status":"passed"},"line":25,"name":"no debo recibir un token","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.noDeboRecibirUnToken()"},"keyword":"Y "}],"tags":[{"name":"@autenticacion"},{"name":"@login-fallido"}]},{"start_timestamp":"2025-08-27T05:59:02.953Z","before":[{"result":{"duration":1998300,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":32,"name":"Login fallido con credenciales inválidas","description":"","id":"sistema-de-autenticación-y-autorización;login-fallido-con-credenciales-inválidas;;5","after":[{"result":{"duration":1993800,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Esquema del escenario","steps":[{"result":{"duration":1003400,"status":"passed"},"line":20,"name":"que tengo las siguientes credenciales:","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.queTengoLasSiguientesCredenciales(io.cucumber.datatable.DataTable)"},"rows":[{"cells":["email","password"]},{"cells":["admin@example.com","\"\""]}],"keyword":"Dado "},{"result":{"duration":998100,"status":"passed"},"line":23,"name":"envío una solicitud de login","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.envioUnaSolicitudDeLogin()"},"keyword":"Cuando "},{"result":{"duration":1003300,"status":"passed"},"line":24,"name":"debo recibir un error de autenticación","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.deboRecibirUnErrorDeAutenticacion()"},"keyword":"Entonces "},{"result":{"duration":1003500,"status":"passed"},"line":25,"name":"no debo recibir un token","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.noDeboRecibirUnToken()"},"keyword":"Y "}],"tags":[{"name":"@autenticacion"},{"name":"@login-fallido"}]},{"start_timestamp":"2025-08-27T05:59:03.016Z","before":[{"result":{"duration":4004900,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":35,"name":"Acceso a recurso protegido sin token","description":"","id":"sistema-de-autenticación-y-autorización;acceso-a-recurso-protegido-sin-token","after":[{"result":{"duration":3004100,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"duration":999000,"status":"passed"},"line":36,"name":"intento acceder a un recurso protegido sin token","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.intentoAccederAUnRecursoProtegidoSinToken()"},"keyword":"Cuando "},{"result":{"duration":1013300,"status":"passed"},"line":37,"name":"debo recibir un error de autorización 401","match":{"arguments":[{"val":"401","offset":38}],"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.deboRecibirUnErrorDeAutorizacion(java.lang.Integer)"},"keyword":"Entonces "},{"result":{"status":"passed"},"line":38,"name":"no debo poder acceder al recurso","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.noDeboPoderAccederAlRecurso()"},"keyword":"Y "}],"tags":[{"name":"@autenticacion"},{"name":"@acceso-sin-token"}]},{"start_timestamp":"2025-08-27T05:59:03.072Z","before":[{"result":{"duration":3001500,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":41,"name":"Acceso con token expirado","description":"","id":"sistema-de-autenticación-y-autorización;acceso-con-token-expirado","after":[{"result":{"duration":1998900,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"duration":1001400,"status":"passed"},"line":42,"name":"que tengo un token JWT expirado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.queTengoUnTokenJWTExpirado()"},"keyword":"Dado "},{"result":{"status":"passed"},"line":43,"name":"intento acceder a un recurso protegido","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.intentoAccederAUnRecursoProtegido()"},"keyword":"Cuando "},{"result":{"duration":513100,"status":"passed"},"line":44,"name":"debo recibir un error de autorización 401","match":{"arguments":[{"val":"401","offset":38}],"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.deboRecibirUnErrorDeAutorizacion(java.lang.Integer)"},"keyword":"Entonces "},{"result":{"duration":2002100,"status":"passed"},"line":45,"name":"debo ser redirigido al login","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.deboSerRedirigidoAlLogin()"},"keyword":"Y "}],"tags":[{"name":"@autenticacion"},{"name":"@acceso-token-expirado"}]},{"start_timestamp":"2025-08-27T05:59:03.126Z","before":[{"result":{"duration":998900,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":48,"name":"Renovación de token válido","description":"","id":"sistema-de-autenticación-y-autorización;renovación-de-token-válido","after":[{"result":{"duration":2997400,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"duration":6006400,"status":"passed"},"line":49,"name":"que tengo un token JWT válido próximo a expirar","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.queTengoUnTokenJWTValidoProximoAExpirar()"},"keyword":"Dado "},{"result":{"duration":4533000,"status":"passed"},"line":50,"name":"solicito renovar el token","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.solicitoRenovarElToken()"},"keyword":"Cuando "},{"result":{"duration":6998400,"status":"passed"},"line":51,"name":"debo recibir un nuevo token válido","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.deboRecibirUnNuevoTokenValido()"},"keyword":"Entonces "},{"result":{"duration":12001900,"status":"passed"},"line":52,"name":"el nuevo token debe tener una nueva fecha de expiración","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.elNuevoTokenDebeTenerUnaNuevaFechaDeExpiracion()"},"keyword":"Y "}],"tags":[{"name":"@autenticacion"},{"name":"@refresh-token"}]}],"name":"Sistema de autenticación y autorización","description":"  Como usuario del sistema\n  Quiero autenticarme de forma segura\n  Para acceder a las funcionalidades según mi rol","id":"sistema-de-autenticación-y-autorización","keyword":"Característica","uri":"classpath:features/autenticacion.feature","tags":[{"name":"@autenticacion","type":"Tag","location":{"line":2,"column":1}}]},{"line":3,"elements":[{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":1512000,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"duration":999700,"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:03.327Z","before":[{"result":{"duration":4004300,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":13,"name":"Crear una nueva categoría","description":"","id":"gestión-de-categorías-de-productos;crear-una-nueva-categoría","after":[{"result":{"duration":1997200,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"duration":576595600,"status":"passed"},"line":14,"name":"creo una categoría con los siguientes datos:","match":{"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.creoUnaCategoriaConLosSiguientesDatos(io.cucumber.datatable.DataTable)"},"rows":[{"cells":["nombre","Laptops Gaming"]},{"cells":["descripcion","Laptops especializadas para gaming"]}],"keyword":"Cuando "},{"result":{"error_message":"org.opentest4j.AssertionFailedError: No debería haber excepciones ==> expected: <null> but was: <org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]; SQL [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]>\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n\tat org.junit.jupiter.api.AssertNull.failNotNull(AssertNull.java:50)\r\n\tat org.junit.jupiter.api.AssertNull.assertNull(AssertNull.java:35)\r\n\tat org.junit.jupiter.api.Assertions.assertNull(Assertions.java:287)\r\n\tat org.example.proyectofinal.cucumber.steps.CategoriaSteps.laCategoriaDebeSerCreadaExitosamente(CategoriaSteps.java:60)\r\n\tat ✽.la categoría debe ser creada exitosamente(classpath:features/gestion-categorias.feature:17)\r\n","duration":7866600,"status":"failed"},"line":17,"name":"la categoría debe ser creada exitosamente","match":{"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.laCategoriaDebeSerCreadaExitosamente()"},"keyword":"Entonces "},{"result":{"duration":1007100,"status":"skipped"},"line":18,"name":"debe tener un ID asignado","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.debe_tener_un_id_asignado()"},"keyword":"Y "},{"result":{"status":"skipped"},"line":19,"name":"los datos de la categoría deben coincidir con los ingresados","match":{},"keyword":"Y "}],"tags":[{"name":"@categorias"},{"name":"@crear-categoria"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":1993500,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:03.984Z","before":[{"result":{"duration":2010700,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":22,"name":"Listar todas las categorías","description":"","id":"gestión-de-categorías-de-productos;listar-todas-las-categorías","after":[{"result":{"duration":2002000,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"error_message":"java.lang.RuntimeException: No se pudieron crear categorías de prueba\r\n\tat org.example.proyectofinal.cucumber.steps.CategoriaSteps.queExistenCategoriasEnElSistema(CategoriaSteps.java:89)\r\n\tat ✽.que existen categorías en el sistema(classpath:features/gestion-categorias.feature:23)\r\nCaused by: org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]; SQL [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.CategoriaSteps.queExistenCategoriasEnElSistema(CategoriaSteps.java:78)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\tat io.cucumber.java.Invoker.invoke(Invoker.java:24)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n\tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.lambda$runTestCase$4(CucumberEngineExecutionContext.java:112)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runTestCase(CucumberEngineExecutionContext.java:109)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:168)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:90)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:76)\r\n\tat org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\r\n\tat org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\r\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:117)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl.prepareStatement(MutationStatementPreparerImpl.java:63)\r\n\tat org.hibernate.id.insert.InsertReturningDelegate.prepareStatement(InsertReturningDelegate.java:119)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.delegateStatementPreparation(ModelMutationHelper.java:131)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.lambda$standardPreparation$0(ModelMutationHelper.java:121)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.PreparedStatementDetailsStandard.resolveStatement(PreparedStatementDetailsStandard.java:87)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.lambda$beforeStatement$0(JdbcValueBindingsImpl.java:88)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.hibernate.engine.jdbc.mutation.spi.BindingGroup.forEachBinding(BindingGroup.java:51)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.beforeStatement(JdbcValueBindingsImpl.java:85)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:57)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy201.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:628)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 107 more\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:514)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:489)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.message.DbException.getSyntaxError(DbException.java:247)\r\n\tat org.h2.command.ParserBase.getSyntaxError(ParserBase.java:748)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:486)\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:639)\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:559)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1166)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1094)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:335)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$2.doPrepare(MutationStatementPreparerImpl.java:61)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:106)\r\n\t... 163 more\r\n","duration":123565100,"status":"failed"},"line":23,"name":"que existen categorías en el sistema","match":{"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.queExistenCategoriasEnElSistema()"},"keyword":"Dado "},{"result":{"status":"skipped"},"line":24,"name":"solicito la lista de categorías","match":{"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.solicitoLaListaDeCategorias()"},"keyword":"Cuando "},{"result":{"duration":999400,"status":"skipped"},"line":25,"name":"debo obtener una lista de categorías","match":{"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.deboObtenerUnaListaDeCategorias()"},"keyword":"Entonces "},{"result":{"status":"skipped"},"line":26,"name":"cada categoría debe tener nombre y descripción","match":{"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.cadaCategoriaDebeTenerNombreYDescripcion()"},"keyword":"Y "}],"tags":[{"name":"@categorias"},{"name":"@listar-categorias"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":1995600,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:04.198Z","before":[{"result":{"duration":3998700,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":29,"name":"Actualizar una categoría existente","description":"","id":"gestión-de-categorías-de-productos;actualizar-una-categoría-existente","after":[{"result":{"duration":1002100,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"error_message":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]; SQL [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.CategoriaSteps.que_existe_una_categoría_con_nombre(CategoriaSteps.java:141)\r\n\tat ✽.que existe una categoría con nombre \"Laptops Gaming\"(classpath:features/gestion-categorias.feature:30)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:117)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl.prepareStatement(MutationStatementPreparerImpl.java:63)\r\n\tat org.hibernate.id.insert.InsertReturningDelegate.prepareStatement(InsertReturningDelegate.java:119)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.delegateStatementPreparation(ModelMutationHelper.java:131)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.lambda$standardPreparation$0(ModelMutationHelper.java:121)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.PreparedStatementDetailsStandard.resolveStatement(PreparedStatementDetailsStandard.java:87)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.lambda$beforeStatement$0(JdbcValueBindingsImpl.java:88)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.hibernate.engine.jdbc.mutation.spi.BindingGroup.forEachBinding(BindingGroup.java:51)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.beforeStatement(JdbcValueBindingsImpl.java:85)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:57)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.saveTransientEntity(DefaultMergeEventListener.java:379)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:299)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:213)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:148)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:132)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:86)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:850)\r\n\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:836)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy201.merge(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:631)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.CategoriaSteps.que_existe_una_categoría_con_nombre(CategoriaSteps.java:141)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\tat io.cucumber.java.Invoker.invoke(Invoker.java:24)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n\tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.lambda$runTestCase$4(CucumberEngineExecutionContext.java:112)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runTestCase(CucumberEngineExecutionContext.java:109)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:168)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:90)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:76)\r\n\tat org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\r\n\tat org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\r\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:514)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:489)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.message.DbException.getSyntaxError(DbException.java:247)\r\n\tat org.h2.command.ParserBase.getSyntaxError(ParserBase.java:748)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:486)\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:639)\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:559)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1166)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1094)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:335)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$2.doPrepare(MutationStatementPreparerImpl.java:61)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:106)\r\n\t... 165 more\r\n","duration":118580200,"status":"failed"},"line":30,"name":"que existe una categoría con nombre \"Laptops Gaming\"","match":{"arguments":[{"val":"\"Laptops Gaming\"","offset":36}],"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.que_existe_una_categoría_con_nombre(java.lang.String)"},"keyword":"Dado "},{"result":{"duration":1212800,"status":"skipped"},"line":31,"name":"actualizo la descripción a \"Laptops de alta gama para gaming\"","match":{"arguments":[{"val":"\"Laptops de alta gama para gaming\"","offset":27}],"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.actualizo_la_descripción_a(java.lang.String)"},"keyword":"Cuando "},{"result":{"status":"skipped"},"line":32,"name":"la categoría debe ser actualizada exitosamente","match":{"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.la_categoría_debe_ser_actualizada_exitosamente()"},"keyword":"Entonces "},{"result":{"duration":1003700,"status":"skipped"},"line":33,"name":"la nueva descripción debe coincidir","match":{"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.la_nueva_descripción_debe_coincidir()"},"keyword":"Y "}],"tags":[{"name":"@categorias"},{"name":"@actualizar-categoria"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":2000300,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"duration":999700,"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:04.393Z","before":[{"result":{"duration":4002900,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":36,"name":"Eliminar una categoría sin productos asociados","description":"","id":"gestión-de-categorías-de-productos;eliminar-una-categoría-sin-productos-asociados","after":[{"result":{"duration":999300,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"status":"undefined"},"line":37,"name":"que existe una categoría sin productos asociados","match":{},"keyword":"Dado "},{"result":{"duration":996000,"status":"skipped"},"line":38,"name":"elimino la categoría","match":{},"keyword":"Cuando "},{"result":{"status":"skipped"},"line":39,"name":"la categoría debe ser eliminada exitosamente","match":{"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.la_categoría_debe_ser_eliminada_exitosamente()"},"keyword":"Entonces "},{"result":{"status":"skipped"},"line":40,"name":"no debe aparecer en la lista de categorías","match":{},"keyword":"Y "}],"tags":[{"name":"@categorias"},{"name":"@eliminar-categoria"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":2014500,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"duration":1999800,"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:04.511Z","before":[{"result":{"duration":7006300,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":43,"name":"Intentar eliminar categoría con productos","description":"","id":"gestión-de-categorías-de-productos;intentar-eliminar-categoría-con-productos","after":[{"result":{"duration":26033600,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"status":"undefined"},"line":44,"name":"que existe una categoría con productos asociados","match":{},"keyword":"Dado "},{"result":{"status":"skipped"},"line":45,"name":"intento eliminar la categoría","match":{"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.intento_eliminar_la_categoría()"},"keyword":"Cuando "},{"result":{"status":"skipped"},"line":46,"name":"debe mostrar un error de referencia","match":{},"keyword":"Entonces "},{"result":{"status":"skipped"},"line":47,"name":"la categoría debe permanecer en el sistema","match":{},"keyword":"Y "}],"tags":[{"name":"@categorias"},{"name":"@eliminar-categoria-con-productos"}]}],"name":"Gestión de categorías de productos","description":"  Como administrador del sistema\n  Quiero gestionar las categorías de productos\n  Para organizar mejor el inventario","id":"gestión-de-categorías-de-productos","keyword":"Característica","uri":"classpath:features/gestion-categorias.feature","tags":[{"name":"@categorias","type":"Tag","location":{"line":2,"column":1}}]},{"line":3,"elements":[{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":2001400,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:04.634Z","before":[{"result":{"duration":7002300,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":13,"name":"Crear un nuevo producto completo","description":"","id":"gestión-completa-de-productos;crear-un-nuevo-producto-completo","after":[{"result":{"duration":1002500,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}},{"result":{"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownProductos(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"duration":57541600,"status":"passed"},"line":14,"name":"creo un producto con los siguientes datos:","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.creo_un_producto_con_los_siguientes_datos(io.cucumber.datatable.DataTable)"},"rows":[{"cells":["nombre","Monitor Samsung 32\""]},{"cells":["descripcion","Monitor 4K para gaming"]},{"cells":["categoria","Monitores"]},{"cells":["precio","499.99"]},{"cells":["cantidad","15"]},{"cells":["sku","MON-SAM32-4K"]}],"keyword":"Cuando "},{"result":{"error_message":"org.opentest4j.AssertionFailedError: El producto debe haber sido creado ==> expected: not <null>\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n\tat org.junit.jupiter.api.AssertNotNull.failNull(AssertNotNull.java:49)\r\n\tat org.junit.jupiter.api.AssertNotNull.assertNotNull(AssertNotNull.java:35)\r\n\tat org.junit.jupiter.api.Assertions.assertNotNull(Assertions.java:312)\r\n\tat org.example.proyectofinal.cucumber.steps.ProductoSteps.el_producto_debe_ser_creado_exitosamente(ProductoSteps.java:249)\r\n\tat ✽.el producto debe ser creado exitosamente(classpath:features/gestion-productos.feature:21)\r\n","duration":999500,"status":"failed"},"line":21,"name":"el producto debe ser creado exitosamente","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.el_producto_debe_ser_creado_exitosamente()"},"keyword":"Entonces "},{"result":{"status":"skipped"},"line":22,"name":"debe tener un ID asignado","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.debe_tener_un_id_asignado()"},"keyword":"Y "},{"result":{"duration":2001500,"status":"skipped"},"line":23,"name":"los datos del producto deben coincidir con los ingresados","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.los_datos_del_producto_deben_coincidir_con_los_ingresados()"},"keyword":"Y "}],"tags":[{"name":"@productos"},{"name":"@crear-producto"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":2001300,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"duration":1001200,"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:04.766Z","before":[{"result":{"duration":1012300,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":26,"name":"Buscar productos por nombre","description":"","id":"gestión-completa-de-productos;buscar-productos-por-nombre","after":[{"result":{"duration":4000900,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}},{"result":{"duration":1003100,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownProductos(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"error_message":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]; SQL [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.ProductoSteps.que_existen_productos_en_el_sistema(ProductoSteps.java:74)\r\n\tat ✽.que existen productos en el sistema(classpath:features/gestion-productos.feature:27)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:117)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl.prepareStatement(MutationStatementPreparerImpl.java:63)\r\n\tat org.hibernate.id.insert.InsertReturningDelegate.prepareStatement(InsertReturningDelegate.java:119)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.delegateStatementPreparation(ModelMutationHelper.java:131)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.lambda$standardPreparation$0(ModelMutationHelper.java:121)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.PreparedStatementDetailsStandard.resolveStatement(PreparedStatementDetailsStandard.java:87)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.lambda$beforeStatement$0(JdbcValueBindingsImpl.java:88)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.hibernate.engine.jdbc.mutation.spi.BindingGroup.forEachBinding(BindingGroup.java:51)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.beforeStatement(JdbcValueBindingsImpl.java:85)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:57)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy201.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:628)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.ProductoSteps.que_existen_productos_en_el_sistema(ProductoSteps.java:74)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\tat io.cucumber.java.Invoker.invoke(Invoker.java:24)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n\tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.lambda$runTestCase$4(CucumberEngineExecutionContext.java:112)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runTestCase(CucumberEngineExecutionContext.java:109)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:168)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:90)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:76)\r\n\tat org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\r\n\tat org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\r\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:514)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:489)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.message.DbException.getSyntaxError(DbException.java:247)\r\n\tat org.h2.command.ParserBase.getSyntaxError(ParserBase.java:748)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:486)\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:639)\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:559)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1166)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1094)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:335)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$2.doPrepare(MutationStatementPreparerImpl.java:61)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:106)\r\n\t... 163 more\r\n","duration":15997400,"status":"failed"},"line":27,"name":"que existen productos en el sistema","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.que_existen_productos_en_el_sistema()"},"keyword":"Dado "},{"result":{"status":"skipped"},"line":28,"name":"busco productos con nombre \"Monitor\"","match":{"arguments":[{"val":"\"Monitor\"","offset":27}],"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.busco_productos_con_nombre(java.lang.String)"},"keyword":"Cuando "},{"result":{"status":"skipped"},"line":29,"name":"debo obtener una lista de productos","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.debo_obtener_una_lista_de_productos()"},"keyword":"Entonces "},{"result":{"status":"skipped"},"line":30,"name":"todos los productos deben contener \"Monitor\" en su nombre","match":{"arguments":[{"val":"\"Monitor\"","offset":35}],"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.todos_los_productos_deben_contener_en_su_nombre(java.lang.String)"},"keyword":"Y "}],"tags":[{"name":"@productos"},{"name":"@buscar-productos"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":1521900,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:04.846Z","before":[{"result":{"duration":988500,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":33,"name":"Actualizar precio de un producto","description":"","id":"gestión-completa-de-productos;actualizar-precio-de-un-producto","after":[{"result":{"duration":989200,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}},{"result":{"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownProductos(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"error_message":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]; SQL [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.ProductoSteps.que_existe_un_producto_con_sku(ProductoSteps.java:93)\r\n\tat ✽.que existe un producto con SKU \"MON-SAM32-4K\"(classpath:features/gestion-productos.feature:34)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:117)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl.prepareStatement(MutationStatementPreparerImpl.java:63)\r\n\tat org.hibernate.id.insert.InsertReturningDelegate.prepareStatement(InsertReturningDelegate.java:119)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.delegateStatementPreparation(ModelMutationHelper.java:131)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.lambda$standardPreparation$0(ModelMutationHelper.java:121)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.PreparedStatementDetailsStandard.resolveStatement(PreparedStatementDetailsStandard.java:87)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.lambda$beforeStatement$0(JdbcValueBindingsImpl.java:88)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.hibernate.engine.jdbc.mutation.spi.BindingGroup.forEachBinding(BindingGroup.java:51)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.beforeStatement(JdbcValueBindingsImpl.java:85)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:57)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy201.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:628)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.ProductoSteps.que_existe_un_producto_con_sku(ProductoSteps.java:93)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\tat io.cucumber.java.Invoker.invoke(Invoker.java:24)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n\tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.lambda$runTestCase$4(CucumberEngineExecutionContext.java:112)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runTestCase(CucumberEngineExecutionContext.java:109)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:168)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:90)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:76)\r\n\tat org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\r\n\tat org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\r\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:514)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:489)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.message.DbException.getSyntaxError(DbException.java:247)\r\n\tat org.h2.command.ParserBase.getSyntaxError(ParserBase.java:748)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:486)\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:639)\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:559)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1166)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1094)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:335)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$2.doPrepare(MutationStatementPreparerImpl.java:61)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:106)\r\n\t... 163 more\r\n","duration":42001000,"status":"failed"},"line":34,"name":"que existe un producto con SKU \"MON-SAM32-4K\"","match":{"arguments":[{"val":"\"MON-SAM32-4K\"","offset":31}],"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.que_existe_un_producto_con_sku(java.lang.String)"},"keyword":"Dado "},{"result":{"status":"skipped"},"line":35,"name":"actualizo el precio a 549.99","match":{"arguments":[{"val":"549.99","offset":22}],"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.actualizo_el_precio_a(java.lang.Double)"},"keyword":"Cuando "},{"result":{"status":"skipped"},"line":36,"name":"el producto debe ser actualizado exitosamente","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.el_producto_debe_ser_actualizado_exitosamente()"},"keyword":"Entonces "},{"result":{"status":"skipped"},"line":37,"name":"el nuevo precio debe ser 549.99","match":{"arguments":[{"val":"549.99","offset":25}],"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.el_nuevo_precio_debe_ser(java.lang.Double)"},"keyword":"Y "}],"tags":[{"name":"@productos"},{"name":"@actualizar-producto"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":1994600,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"duration":999300,"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:04.944Z","before":[{"result":{"duration":2005900,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":40,"name":"Eliminación lógica de producto","description":"","id":"gestión-completa-de-productos;eliminación-lógica-de-producto","after":[{"result":{"duration":3005900,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}},{"result":{"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownProductos(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"error_message":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]; SQL [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.ProductoSteps.que_existe_un_producto_con_sku(ProductoSteps.java:93)\r\n\tat ✽.que existe un producto con SKU \"MON-SAM32-4K\"(classpath:features/gestion-productos.feature:41)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:117)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl.prepareStatement(MutationStatementPreparerImpl.java:63)\r\n\tat org.hibernate.id.insert.InsertReturningDelegate.prepareStatement(InsertReturningDelegate.java:119)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.delegateStatementPreparation(ModelMutationHelper.java:131)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.lambda$standardPreparation$0(ModelMutationHelper.java:121)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.PreparedStatementDetailsStandard.resolveStatement(PreparedStatementDetailsStandard.java:87)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.lambda$beforeStatement$0(JdbcValueBindingsImpl.java:88)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.hibernate.engine.jdbc.mutation.spi.BindingGroup.forEachBinding(BindingGroup.java:51)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.beforeStatement(JdbcValueBindingsImpl.java:85)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:57)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy201.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:628)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.ProductoSteps.que_existe_un_producto_con_sku(ProductoSteps.java:93)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\tat io.cucumber.java.Invoker.invoke(Invoker.java:24)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n\tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.lambda$runTestCase$4(CucumberEngineExecutionContext.java:112)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runTestCase(CucumberEngineExecutionContext.java:109)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:168)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:90)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:76)\r\n\tat org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\r\n\tat org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\r\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:514)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:489)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.message.DbException.getSyntaxError(DbException.java:247)\r\n\tat org.h2.command.ParserBase.getSyntaxError(ParserBase.java:748)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:486)\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:639)\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:559)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1166)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1094)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:335)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$2.doPrepare(MutationStatementPreparerImpl.java:61)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:106)\r\n\t... 163 more\r\n","duration":22997500,"status":"failed"},"line":41,"name":"que existe un producto con SKU \"MON-SAM32-4K\"","match":{"arguments":[{"val":"\"MON-SAM32-4K\"","offset":31}],"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.que_existe_un_producto_con_sku(java.lang.String)"},"keyword":"Dado "},{"result":{"status":"skipped"},"line":42,"name":"elimino el producto","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.elimino_el_producto()"},"keyword":"Cuando "},{"result":{"status":"skipped"},"line":43,"name":"el producto debe ser marcado como inactivo","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.el_producto_debe_ser_marcado_como_inactivo()"},"keyword":"Entonces "},{"result":{"status":"skipped"},"line":44,"name":"no debe aparecer en las búsquedas regulares","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.no_debe_aparecer_en_las_busquedas_regulares()"},"keyword":"Y "}],"tags":[{"name":"@productos"},{"name":"@eliminar-producto"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":2014000,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"duration":994400,"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:05.021Z","before":[{"result":{"duration":2006500,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":55,"name":"Validar datos requeridos al crear producto","description":"","id":"gestión-completa-de-productos;validar-datos-requeridos-al-crear-producto;;2","after":[{"result":{"duration":1002400,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}},{"result":{"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownProductos(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Esquema del escenario","steps":[{"result":{"duration":4000900,"status":"passed"},"line":48,"name":"intento crear un producto con datos:","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.intento_crear_un_producto_con_datos(io.cucumber.datatable.DataTable)"},"rows":[{"cells":["nombre","descripcion","precio","cantidad"]},{"cells":["\"\"","Desc test","100.0","10"]}],"keyword":"Cuando "},{"result":{"status":"undefined"},"line":51,"name":"debería obtener el resultado: error","match":{},"keyword":"Entonces "}],"tags":[{"name":"@productos"},{"name":"@validacion-datos"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":999400,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:05.058Z","before":[{"result":{"duration":2001200,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":56,"name":"Validar datos requeridos al crear producto","description":"","id":"gestión-completa-de-productos;validar-datos-requeridos-al-crear-producto;;3","after":[{"result":{"duration":1998400,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}},{"result":{"duration":1001000,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownProductos(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Esquema del escenario","steps":[{"result":{"duration":999200,"status":"passed"},"line":48,"name":"intento crear un producto con datos:","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.intento_crear_un_producto_con_datos(io.cucumber.datatable.DataTable)"},"rows":[{"cells":["nombre","descripcion","precio","cantidad"]},{"cells":["Producto1","\"\"","100.0","10"]}],"keyword":"Cuando "},{"result":{"status":"undefined"},"line":51,"name":"debería obtener el resultado: error","match":{},"keyword":"Entonces "}],"tags":[{"name":"@productos"},{"name":"@validacion-datos"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":4001700,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"duration":998100,"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:05.099Z","before":[{"result":{"duration":1001600,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":57,"name":"Validar datos requeridos al crear producto","description":"","id":"gestión-completa-de-productos;validar-datos-requeridos-al-crear-producto;;4","after":[{"result":{"duration":2001800,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}},{"result":{"duration":999500,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownProductos(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Esquema del escenario","steps":[{"result":{"duration":998400,"status":"passed"},"line":48,"name":"intento crear un producto con datos:","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.intento_crear_un_producto_con_datos(io.cucumber.datatable.DataTable)"},"rows":[{"cells":["nombre","descripcion","precio","cantidad"]},{"cells":["Producto2","Desc test","0","10"]}],"keyword":"Cuando "},{"result":{"status":"undefined"},"line":51,"name":"debería obtener el resultado: error","match":{},"keyword":"Entonces "}],"tags":[{"name":"@productos"},{"name":"@validacion-datos"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":1997600,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:05.139Z","before":[{"result":{"duration":1525100,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":58,"name":"Validar datos requeridos al crear producto","description":"","id":"gestión-completa-de-productos;validar-datos-requeridos-al-crear-producto;;5","after":[{"result":{"duration":1000000,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}},{"result":{"duration":1000600,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownProductos(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Esquema del escenario","steps":[{"result":{"duration":999100,"status":"passed"},"line":48,"name":"intento crear un producto con datos:","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.intento_crear_un_producto_con_datos(io.cucumber.datatable.DataTable)"},"rows":[{"cells":["nombre","descripcion","precio","cantidad"]},{"cells":["Producto3","Desc test","100.0","-1"]}],"keyword":"Cuando "},{"result":{"status":"undefined"},"line":51,"name":"debería obtener el resultado: error","match":{},"keyword":"Entonces "}],"tags":[{"name":"@productos"},{"name":"@validacion-datos"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":1002700,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:05.170Z","before":[{"result":{"duration":1007100,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":59,"name":"Validar datos requeridos al crear producto","description":"","id":"gestión-completa-de-productos;validar-datos-requeridos-al-crear-producto;;6","after":[{"result":{"duration":996900,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}},{"result":{"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownProductos(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Esquema del escenario","steps":[{"result":{"duration":1008800,"status":"passed"},"line":48,"name":"intento crear un producto con datos:","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.intento_crear_un_producto_con_datos(io.cucumber.datatable.DataTable)"},"rows":[{"cells":["nombre","descripcion","precio","cantidad"]},{"cells":["Producto4","Desc test","100.0","10"]}],"keyword":"Cuando "},{"result":{"status":"undefined"},"line":51,"name":"debería obtener el resultado: exito","match":{},"keyword":"Entonces "}],"tags":[{"name":"@productos"},{"name":"@validacion-datos"}]}],"name":"Gestión completa de productos","description":"  Como administrador del sistema\n  Quiero gestionar el inventario de productos\n  Para mantener actualizada la información de stock","id":"gestión-completa-de-productos","keyword":"Característica","uri":"classpath:features/gestion-productos.feature","tags":[{"name":"@productos","type":"Tag","location":{"line":2,"column":1}}]},{"line":3,"elements":[{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":997600,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:05.204Z","before":[{"result":{"duration":2000400,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":13,"name":"Registrar entrada de stock","description":"","id":"seguimiento-de-movimientos-de-inventario;registrar-entrada-de-stock","after":[{"result":{"duration":999400,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"error_message":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]; SQL [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.lambda$que_existe_un_producto_con_stock_actual_de_unidades$0(MovimientoSteps.java:64)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existe_un_producto_con_stock_actual_de_unidades(MovimientoSteps.java:60)\r\n\tat ✽.que existe un producto con stock actual de 10 unidades(classpath:features/historial-movimientos.feature:14)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:117)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl.prepareStatement(MutationStatementPreparerImpl.java:63)\r\n\tat org.hibernate.id.insert.InsertReturningDelegate.prepareStatement(InsertReturningDelegate.java:119)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.delegateStatementPreparation(ModelMutationHelper.java:131)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.lambda$standardPreparation$0(ModelMutationHelper.java:121)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.PreparedStatementDetailsStandard.resolveStatement(PreparedStatementDetailsStandard.java:87)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.lambda$beforeStatement$0(JdbcValueBindingsImpl.java:88)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.hibernate.engine.jdbc.mutation.spi.BindingGroup.forEachBinding(BindingGroup.java:51)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.beforeStatement(JdbcValueBindingsImpl.java:85)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:57)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy201.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:628)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.lambda$que_existe_un_producto_con_stock_actual_de_unidades$0(MovimientoSteps.java:64)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existe_un_producto_con_stock_actual_de_unidades(MovimientoSteps.java:60)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps$$SpringCGLIB$$0.que_existe_un_producto_con_stock_actual_de_unidades(<generated>)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\tat io.cucumber.java.Invoker.invoke(Invoker.java:24)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n\tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.lambda$runTestCase$4(CucumberEngineExecutionContext.java:112)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runTestCase(CucumberEngineExecutionContext.java:109)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:168)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:90)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:76)\r\n\tat org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\r\n\tat org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\r\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:514)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:489)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.message.DbException.getSyntaxError(DbException.java:247)\r\n\tat org.h2.command.ParserBase.getSyntaxError(ParserBase.java:748)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:486)\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:639)\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:559)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1166)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1094)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:335)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$2.doPrepare(MutationStatementPreparerImpl.java:61)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:106)\r\n\t... 178 more\r\n","duration":102545000,"status":"failed"},"line":14,"name":"que existe un producto con stock actual de 10 unidades","match":{"arguments":[{"val":"10","offset":43}],"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existe_un_producto_con_stock_actual_de_unidades(java.lang.Integer)"},"keyword":"Dado "},{"result":{"duration":999400,"status":"skipped"},"line":15,"name":"registro una entrada de 5 unidades con motivo \"Compra a proveedor\"","match":{"arguments":[{"val":"5","offset":24},{"val":"\"Compra a proveedor\"","offset":46}],"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.registro_una_entrada_de_unidades_con_motivo(java.lang.Integer,java.lang.String)"},"keyword":"Cuando "},{"result":{"status":"skipped"},"line":16,"name":"el stock del producto debe aumentar a 15 unidades","match":{"arguments":[{"val":"15","offset":38}],"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.el_stock_del_producto_debe_aumentar_a_unidades(java.lang.Integer)"},"keyword":"Entonces "},{"result":{"status":"skipped"},"line":17,"name":"debe crearse un registro de movimiento de tipo \"ENTRADA\"","match":{"arguments":[{"val":"\"ENTRADA\"","offset":47}],"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.debe_crearse_un_registro_de_movimiento_de_tipo(java.lang.String)"},"keyword":"Y "},{"result":{"status":"skipped"},"line":18,"name":"el historial debe mostrar el movimiento registrado","match":{"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.el_historial_debe_mostrar_el_movimiento_registrado()"},"keyword":"Y "}],"tags":[{"name":"@historial-movimientos"},{"name":"@movimiento-entrada"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":2000300,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:05.345Z","before":[{"result":{"duration":1998400,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":21,"name":"Registrar salida de stock","description":"","id":"seguimiento-de-movimientos-de-inventario;registrar-salida-de-stock","after":[{"result":{"duration":1001600,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"error_message":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]; SQL [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.lambda$que_existe_un_producto_con_stock_actual_de_unidades$0(MovimientoSteps.java:64)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existe_un_producto_con_stock_actual_de_unidades(MovimientoSteps.java:60)\r\n\tat ✽.que existe un producto con stock actual de 15 unidades(classpath:features/historial-movimientos.feature:22)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:117)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl.prepareStatement(MutationStatementPreparerImpl.java:63)\r\n\tat org.hibernate.id.insert.InsertReturningDelegate.prepareStatement(InsertReturningDelegate.java:119)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.delegateStatementPreparation(ModelMutationHelper.java:131)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.lambda$standardPreparation$0(ModelMutationHelper.java:121)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.PreparedStatementDetailsStandard.resolveStatement(PreparedStatementDetailsStandard.java:87)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.lambda$beforeStatement$0(JdbcValueBindingsImpl.java:88)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.hibernate.engine.jdbc.mutation.spi.BindingGroup.forEachBinding(BindingGroup.java:51)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.beforeStatement(JdbcValueBindingsImpl.java:85)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:57)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy201.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:628)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.lambda$que_existe_un_producto_con_stock_actual_de_unidades$0(MovimientoSteps.java:64)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existe_un_producto_con_stock_actual_de_unidades(MovimientoSteps.java:60)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps$$SpringCGLIB$$0.que_existe_un_producto_con_stock_actual_de_unidades(<generated>)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\tat io.cucumber.java.Invoker.invoke(Invoker.java:24)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n\tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.lambda$runTestCase$4(CucumberEngineExecutionContext.java:112)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runTestCase(CucumberEngineExecutionContext.java:109)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:168)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:90)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:76)\r\n\tat org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\r\n\tat org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\r\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:514)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:489)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.message.DbException.getSyntaxError(DbException.java:247)\r\n\tat org.h2.command.ParserBase.getSyntaxError(ParserBase.java:748)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:486)\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:639)\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:559)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1166)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1094)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:335)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$2.doPrepare(MutationStatementPreparerImpl.java:61)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:106)\r\n\t... 178 more\r\n","duration":15998100,"status":"failed"},"line":22,"name":"que existe un producto con stock actual de 15 unidades","match":{"arguments":[{"val":"15","offset":43}],"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existe_un_producto_con_stock_actual_de_unidades(java.lang.Integer)"},"keyword":"Dado "},{"result":{"status":"skipped"},"line":23,"name":"registro una salida de 3 unidades con motivo \"Venta\"","match":{"arguments":[{"val":"3","offset":23},{"val":"\"Venta\"","offset":45}],"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.registro_una_salida_de_unidades_con_motivo(java.lang.Integer,java.lang.String)"},"keyword":"Cuando "},{"result":{"duration":994500,"status":"skipped"},"line":24,"name":"el stock del producto debe disminuir a 12 unidades","match":{"arguments":[{"val":"12","offset":39}],"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.el_stock_del_producto_debe_disminuir_a_unidades(java.lang.Integer)"},"keyword":"Entonces "},{"result":{"status":"skipped"},"line":25,"name":"debe crearse un registro de movimiento de tipo \"SALIDA\"","match":{"arguments":[{"val":"\"SALIDA\"","offset":47}],"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.debe_crearse_un_registro_de_movimiento_de_tipo(java.lang.String)"},"keyword":"Y "},{"result":{"duration":997800,"status":"skipped"},"line":26,"name":"el historial debe mostrar el movimiento registrado","match":{"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.el_historial_debe_mostrar_el_movimiento_registrado()"},"keyword":"Y "}],"tags":[{"name":"@historial-movimientos"},{"name":"@movimiento-salida"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":1998300,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:05.402Z","before":[{"result":{"duration":2001800,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":29,"name":"Intentar salida con stock insuficiente","description":"","id":"seguimiento-de-movimientos-de-inventario;intentar-salida-con-stock-insuficiente","after":[{"result":{"duration":1000100,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"error_message":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]; SQL [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.lambda$que_existe_un_producto_con_stock_actual_de_unidades$0(MovimientoSteps.java:64)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existe_un_producto_con_stock_actual_de_unidades(MovimientoSteps.java:60)\r\n\tat ✽.que existe un producto con stock actual de 5 unidades(classpath:features/historial-movimientos.feature:30)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:117)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl.prepareStatement(MutationStatementPreparerImpl.java:63)\r\n\tat org.hibernate.id.insert.InsertReturningDelegate.prepareStatement(InsertReturningDelegate.java:119)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.delegateStatementPreparation(ModelMutationHelper.java:131)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.lambda$standardPreparation$0(ModelMutationHelper.java:121)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.PreparedStatementDetailsStandard.resolveStatement(PreparedStatementDetailsStandard.java:87)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.lambda$beforeStatement$0(JdbcValueBindingsImpl.java:88)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.hibernate.engine.jdbc.mutation.spi.BindingGroup.forEachBinding(BindingGroup.java:51)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.beforeStatement(JdbcValueBindingsImpl.java:85)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:57)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy201.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:628)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.lambda$que_existe_un_producto_con_stock_actual_de_unidades$0(MovimientoSteps.java:64)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existe_un_producto_con_stock_actual_de_unidades(MovimientoSteps.java:60)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps$$SpringCGLIB$$0.que_existe_un_producto_con_stock_actual_de_unidades(<generated>)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\tat io.cucumber.java.Invoker.invoke(Invoker.java:24)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n\tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.lambda$runTestCase$4(CucumberEngineExecutionContext.java:112)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runTestCase(CucumberEngineExecutionContext.java:109)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:168)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:90)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:76)\r\n\tat org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\r\n\tat org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\r\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:514)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:489)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.message.DbException.getSyntaxError(DbException.java:247)\r\n\tat org.h2.command.ParserBase.getSyntaxError(ParserBase.java:748)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:486)\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:639)\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:559)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1166)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1094)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:335)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$2.doPrepare(MutationStatementPreparerImpl.java:61)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:106)\r\n\t... 178 more\r\n","duration":15017700,"status":"failed"},"line":30,"name":"que existe un producto con stock actual de 5 unidades","match":{"arguments":[{"val":"5","offset":43}],"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existe_un_producto_con_stock_actual_de_unidades(java.lang.Integer)"},"keyword":"Dado "},{"result":{"status":"skipped"},"line":31,"name":"intento registrar una salida de 10 unidades","match":{"arguments":[{"val":"10","offset":32}],"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.intento_registrar_una_salida_de_unidades(java.lang.Integer)"},"keyword":"Cuando "},{"result":{"status":"skipped"},"line":32,"name":"debe mostrar un error de stock insuficiente","match":{"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.debe_mostrar_un_error_de_stock_insuficiente()"},"keyword":"Entonces "},{"result":{"duration":998900,"status":"skipped"},"line":33,"name":"el stock del producto debe permanecer en 5 unidades","match":{"arguments":[{"val":"5","offset":41}],"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.el_stock_del_producto_debe_permanecer_en_unidades(java.lang.Integer)"},"keyword":"Y "},{"result":{"status":"skipped"},"line":34,"name":"no debe crearse ningún registro de movimiento","match":{"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.no_debe_crearse_ningun_registro_de_movimiento()"},"keyword":"Y "}],"tags":[{"name":"@historial-movimientos"},{"name":"@stock-insuficiente"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":3999200,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:05.476Z","before":[{"result":{"duration":2997200,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":37,"name":"Consultar historial de movimientos por producto","description":"","id":"seguimiento-de-movimientos-de-inventario;consultar-historial-de-movimientos-por-producto","after":[{"result":{"duration":3001700,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"error_message":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]; SQL [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.lambda$que_existe_un_producto_con_stock_actual_de_unidades$0(MovimientoSteps.java:64)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existe_un_producto_con_stock_actual_de_unidades(MovimientoSteps.java:60)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_un_producto_tiene_varios_movimientos_registrados(MovimientoSteps.java:228)\r\n\tat ✽.que un producto tiene varios movimientos registrados(classpath:features/historial-movimientos.feature:38)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:117)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl.prepareStatement(MutationStatementPreparerImpl.java:63)\r\n\tat org.hibernate.id.insert.InsertReturningDelegate.prepareStatement(InsertReturningDelegate.java:119)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.delegateStatementPreparation(ModelMutationHelper.java:131)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.lambda$standardPreparation$0(ModelMutationHelper.java:121)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.PreparedStatementDetailsStandard.resolveStatement(PreparedStatementDetailsStandard.java:87)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.lambda$beforeStatement$0(JdbcValueBindingsImpl.java:88)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.hibernate.engine.jdbc.mutation.spi.BindingGroup.forEachBinding(BindingGroup.java:51)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.beforeStatement(JdbcValueBindingsImpl.java:85)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:57)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy201.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:628)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.lambda$que_existe_un_producto_con_stock_actual_de_unidades$0(MovimientoSteps.java:64)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existe_un_producto_con_stock_actual_de_unidades(MovimientoSteps.java:60)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_un_producto_tiene_varios_movimientos_registrados(MovimientoSteps.java:228)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps$$SpringCGLIB$$0.que_un_producto_tiene_varios_movimientos_registrados(<generated>)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\tat io.cucumber.java.Invoker.invoke(Invoker.java:24)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n\tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.lambda$runTestCase$4(CucumberEngineExecutionContext.java:112)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runTestCase(CucumberEngineExecutionContext.java:109)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:168)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:90)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:76)\r\n\tat org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\r\n\tat org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\r\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:514)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:489)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.message.DbException.getSyntaxError(DbException.java:247)\r\n\tat org.h2.command.ParserBase.getSyntaxError(ParserBase.java:748)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:486)\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:639)\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:559)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1166)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1094)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:335)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$2.doPrepare(MutationStatementPreparerImpl.java:61)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:106)\r\n\t... 179 more\r\n","duration":19526500,"status":"failed"},"line":38,"name":"que un producto tiene varios movimientos registrados","match":{"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_un_producto_tiene_varios_movimientos_registrados()"},"keyword":"Dado "},{"result":{"status":"skipped"},"line":39,"name":"consulto el historial de movimientos del producto","match":{"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.consulto_el_historial_de_movimientos_del_producto()"},"keyword":"Cuando "},{"result":{"status":"skipped"},"line":40,"name":"debo obtener una lista ordenada por fecha","match":{"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.debo_obtener_una_lista_ordenada_por_fecha()"},"keyword":"Entonces "},{"result":{"status":"skipped"},"line":41,"name":"cada movimiento debe mostrar fecha, tipo, cantidad y motivo","match":{"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.cada_movimiento_debe_mostrar_fecha_tipo_cantidad_y_motivo()"},"keyword":"Y "},{"result":{"status":"skipped"},"line":42,"name":"el balance final debe coincidir con el stock actual","match":{"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.el_balance_final_debe_coincidir_con_el_stock_actual()"},"keyword":"Y "}],"tags":[{"name":"@historial-movimientos"},{"name":"@historial-por-producto"}]},{"line":8,"name":"","description":"","type":"background","keyword":"Antecedentes","steps":[{"result":{"duration":3004600,"status":"passed"},"line":9,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"duration":2014600,"status":"passed"},"line":10,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "}]},{"start_timestamp":"2025-08-27T05:59:05.569Z","before":[{"result":{"duration":2003000,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":45,"name":"Generar reporte de movimientos por período","description":"","id":"seguimiento-de-movimientos-de-inventario;generar-reporte-de-movimientos-por-período","after":[{"result":{"duration":996600,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"error_message":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]; SQL [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.lambda$que_existe_un_producto_con_stock_actual_de_unidades$0(MovimientoSteps.java:64)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existe_un_producto_con_stock_actual_de_unidades(MovimientoSteps.java:60)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existen_movimientos_en_diferentes_fechas(MovimientoSteps.java:307)\r\n\tat ✽.que existen movimientos en diferentes fechas(classpath:features/historial-movimientos.feature:46)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:117)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl.prepareStatement(MutationStatementPreparerImpl.java:63)\r\n\tat org.hibernate.id.insert.InsertReturningDelegate.prepareStatement(InsertReturningDelegate.java:119)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.delegateStatementPreparation(ModelMutationHelper.java:131)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.lambda$standardPreparation$0(ModelMutationHelper.java:121)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.PreparedStatementDetailsStandard.resolveStatement(PreparedStatementDetailsStandard.java:87)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.lambda$beforeStatement$0(JdbcValueBindingsImpl.java:88)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.hibernate.engine.jdbc.mutation.spi.BindingGroup.forEachBinding(BindingGroup.java:51)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.beforeStatement(JdbcValueBindingsImpl.java:85)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:57)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy201.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:628)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.lambda$que_existe_un_producto_con_stock_actual_de_unidades$0(MovimientoSteps.java:64)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existe_un_producto_con_stock_actual_de_unidades(MovimientoSteps.java:60)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existen_movimientos_en_diferentes_fechas(MovimientoSteps.java:307)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)\r\n\tat org.example.proyectofinal.cucumber.steps.MovimientoSteps$$SpringCGLIB$$0.que_existen_movimientos_en_diferentes_fechas(<generated>)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\tat io.cucumber.java.Invoker.invoke(Invoker.java:24)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n\tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.lambda$runTestCase$4(CucumberEngineExecutionContext.java:112)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runTestCase(CucumberEngineExecutionContext.java:109)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:168)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:90)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:76)\r\n\tat org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\r\n\tat org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\r\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:514)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:489)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.message.DbException.getSyntaxError(DbException.java:247)\r\n\tat org.h2.command.ParserBase.getSyntaxError(ParserBase.java:748)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:486)\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:639)\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:559)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1166)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1094)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:335)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$2.doPrepare(MutationStatementPreparerImpl.java:61)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:106)\r\n\t... 179 more\r\n","duration":21528700,"status":"failed"},"line":46,"name":"que existen movimientos en diferentes fechas","match":{"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.que_existen_movimientos_en_diferentes_fechas()"},"keyword":"Dado "},{"result":{"status":"skipped"},"line":47,"name":"solicito un reporte de movimientos entre \"2024-01-01\" y \"2024-12-31\"","match":{"arguments":[{"val":"\"2024-01-01\"","offset":41},{"val":"\"2024-12-31\"","offset":56}],"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.solicito_un_reporte_de_movimientos_entre_y(java.lang.String,java.lang.String)"},"keyword":"Cuando "},{"result":{"status":"skipped"},"line":48,"name":"debo obtener todos los movimientos del período","match":{"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.debo_obtener_todos_los_movimientos_del_periodo()"},"keyword":"Entonces "},{"result":{"duration":1009000,"status":"skipped"},"line":49,"name":"el reporte debe incluir totales por tipo de movimiento","match":{"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.el_reporte_debe_incluir_totales_por_tipo_de_movimiento()"},"keyword":"Y "},{"result":{"status":"skipped"},"line":50,"name":"debe mostrar el balance neto del período","match":{"location":"org.example.proyectofinal.cucumber.steps.MovimientoSteps.debe_mostrar_el_balance_neto_del_periodo()"},"keyword":"Y "}],"tags":[{"name":"@historial-movimientos"},{"name":"@reporte-movimientos"}]}],"name":"Seguimiento de movimientos de inventario","description":"  Como administrador del sistema\n  Quiero rastrear todos los movimientos de stock\n  Para mantener un historial completo del inventario","id":"seguimiento-de-movimientos-de-inventario","keyword":"Característica","uri":"classpath:features/historial-movimientos.feature","tags":[{"name":"@historial-movimientos","type":"Tag","location":{"line":2,"column":1}}]},{"line":3,"elements":[{"start_timestamp":"2025-08-27T05:59:05.645Z","before":[{"result":{"duration":6004600,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":10,"name":"Regresión - Autenticación básica funciona","description":"","id":"suite-de-regresión---funcionalidades-críticas;regresión---autenticación-básica-funciona","after":[{"result":{"duration":1000200,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}},{"result":{"duration":2000700,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownRegresion(io.cucumber.java.Scenario)"}},{"result":{"duration":999400,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownCritico(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"status":"passed"},"line":11,"name":"que tengo credenciales válidas:","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.queTengoCredencialesValidas(io.cucumber.datatable.DataTable)"},"rows":[{"cells":["email","admin@example.com"]},{"cells":["password","password"]}],"keyword":"Dado "},{"result":{"duration":5999500,"status":"passed"},"line":14,"name":"envío una solicitud de login","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.envioUnaSolicitudDeLogin()"},"keyword":"Cuando "},{"result":{"duration":6998000,"status":"passed"},"line":15,"name":"debo recibir un token JWT válido","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.deboRecibirUnTokenJWTValido()"},"keyword":"Entonces "},{"result":{"duration":3002400,"status":"passed"},"line":16,"name":"el token debe contener la información del usuario","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.elTokenDebeContenerLaInformacionDelUsuario()"},"keyword":"Y "}],"tags":[{"name":"@regresion"},{"name":"@critico"},{"name":"@regresion-auth"}]},{"start_timestamp":"2025-08-27T05:59:05.744Z","before":[{"result":{"duration":1998200,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":19,"name":"Regresión - CRUD básico de productos","description":"","id":"suite-de-regresión---funcionalidades-críticas;regresión---crud-básico-de-productos","after":[{"result":{"duration":2005700,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}},{"result":{"duration":998200,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownRegresion(io.cucumber.java.Scenario)"}},{"result":{"duration":1006000,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownCritico(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"duration":4000200,"status":"passed"},"line":20,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"status":"passed"},"line":21,"name":"el sistema está conectado a la base de datos","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.el_sistema_está_conectado_a_la_base_de_datos()"},"keyword":"Y "},{"result":{"duration":17999900,"status":"passed"},"line":22,"name":"creo un producto con los siguientes datos:","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.creo_un_producto_con_los_siguientes_datos(io.cucumber.datatable.DataTable)"},"rows":[{"cells":["nombre","Producto Regresión Test"]},{"cells":["descripcion","Producto para regresión"]},{"cells":["categoria","Testing"]},{"cells":["precio","99.99"]},{"cells":["cantidad","50"]},{"cells":["sku","REG-TEST-001"]}],"keyword":"Cuando "},{"result":{"error_message":"org.opentest4j.AssertionFailedError: El producto debe haber sido creado ==> expected: not <null>\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n\tat org.junit.jupiter.api.AssertNotNull.failNull(AssertNotNull.java:49)\r\n\tat org.junit.jupiter.api.AssertNotNull.assertNotNull(AssertNotNull.java:35)\r\n\tat org.junit.jupiter.api.Assertions.assertNotNull(Assertions.java:312)\r\n\tat org.example.proyectofinal.cucumber.steps.ProductoSteps.el_producto_debe_ser_creado_exitosamente(ProductoSteps.java:249)\r\n\tat ✽.el producto debe ser creado exitosamente(classpath:features/regresion-suite.feature:29)\r\n","duration":1000700,"status":"failed"},"line":29,"name":"el producto debe ser creado exitosamente","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.el_producto_debe_ser_creado_exitosamente()"},"keyword":"Entonces "},{"result":{"status":"skipped"},"line":30,"name":"debe tener un ID asignado","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.debe_tener_un_id_asignado()"},"keyword":"Y "}],"tags":[{"name":"@regresion"},{"name":"@critico"},{"name":"@regresion-productos"}]},{"start_timestamp":"2025-08-27T05:59:05.806Z","before":[{"result":{"duration":1996300,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":33,"name":"Regresión - Búsqueda de productos funciona","description":"","id":"suite-de-regresión---funcionalidades-críticas;regresión---búsqueda-de-productos-funciona","after":[{"result":{"duration":4000400,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}},{"result":{"duration":995900,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownRegresion(io.cucumber.java.Scenario)"}},{"result":{"duration":1003300,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownCritico(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"error_message":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]; SQL [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.ProductoSteps.que_existen_productos_en_el_sistema(ProductoSteps.java:74)\r\n\tat ✽.que existen productos en el sistema(classpath:features/regresion-suite.feature:34)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:117)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl.prepareStatement(MutationStatementPreparerImpl.java:63)\r\n\tat org.hibernate.id.insert.InsertReturningDelegate.prepareStatement(InsertReturningDelegate.java:119)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.delegateStatementPreparation(ModelMutationHelper.java:131)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.lambda$standardPreparation$0(ModelMutationHelper.java:121)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.PreparedStatementDetailsStandard.resolveStatement(PreparedStatementDetailsStandard.java:87)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.lambda$beforeStatement$0(JdbcValueBindingsImpl.java:88)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.hibernate.engine.jdbc.mutation.spi.BindingGroup.forEachBinding(BindingGroup.java:51)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.beforeStatement(JdbcValueBindingsImpl.java:85)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:57)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy201.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:628)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.ProductoSteps.que_existen_productos_en_el_sistema(ProductoSteps.java:74)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\tat io.cucumber.java.Invoker.invoke(Invoker.java:24)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n\tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.lambda$runTestCase$4(CucumberEngineExecutionContext.java:112)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runTestCase(CucumberEngineExecutionContext.java:109)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:168)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:90)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:76)\r\n\tat org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\r\n\tat org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\r\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:514)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:489)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.message.DbException.getSyntaxError(DbException.java:247)\r\n\tat org.h2.command.ParserBase.getSyntaxError(ParserBase.java:748)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:486)\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:639)\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:559)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1166)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1094)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:335)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$2.doPrepare(MutationStatementPreparerImpl.java:61)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:106)\r\n\t... 163 more\r\n","duration":14001000,"status":"failed"},"line":34,"name":"que existen productos en el sistema","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.que_existen_productos_en_el_sistema()"},"keyword":"Dado "},{"result":{"status":"skipped"},"line":35,"name":"busco productos con nombre \"Test\"","match":{"arguments":[{"val":"\"Test\"","offset":27}],"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.busco_productos_con_nombre(java.lang.String)"},"keyword":"Cuando "},{"result":{"status":"skipped"},"line":36,"name":"debo obtener una lista de productos","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSteps.debo_obtener_una_lista_de_productos()"},"keyword":"Entonces "}],"tags":[{"name":"@regresion"},{"name":"@critico"},{"name":"@regresion-busqueda"}]},{"start_timestamp":"2025-08-27T05:59:05.871Z","before":[{"result":{"duration":1013400,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":39,"name":"Regresión - Listar categorías funciona","description":"","id":"suite-de-regresión---funcionalidades-críticas;regresión---listar-categorías-funciona","after":[{"result":{"duration":1003500,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}},{"result":{"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownRegresion(io.cucumber.java.Scenario)"}},{"result":{"duration":1000400,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownCritico(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"error_message":"java.lang.RuntimeException: No se pudieron crear categorías de prueba\r\n\tat org.example.proyectofinal.cucumber.steps.CategoriaSteps.queExistenCategoriasEnElSistema(CategoriaSteps.java:89)\r\n\tat ✽.que existen categorías en el sistema(classpath:features/regresion-suite.feature:40)\r\nCaused by: org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]; SQL [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy219.save(Unknown Source)\r\n\tat org.example.proyectofinal.cucumber.steps.CategoriaSteps.queExistenCategoriasEnElSistema(CategoriaSteps.java:78)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\tat io.cucumber.java.Invoker.invoke(Invoker.java:24)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n\tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.lambda$runTestCase$4(CucumberEngineExecutionContext.java:112)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runTestCase(CucumberEngineExecutionContext.java:109)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:168)\r\n\tat io.cucumber.junit.platform.engine.NodeDescriptor$PickleDescriptor.execute(NodeDescriptor.java:90)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:76)\r\n\tat org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\r\n\tat org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1939)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)\r\n\tat org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement [Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]] [insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id]\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:117)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl.prepareStatement(MutationStatementPreparerImpl.java:63)\r\n\tat org.hibernate.id.insert.InsertReturningDelegate.prepareStatement(InsertReturningDelegate.java:119)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.delegateStatementPreparation(ModelMutationHelper.java:131)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.ModelMutationHelper.lambda$standardPreparation$0(ModelMutationHelper.java:121)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.PreparedStatementDetailsStandard.resolveStatement(PreparedStatementDetailsStandard.java:87)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.lambda$beforeStatement$0(JdbcValueBindingsImpl.java:88)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.hibernate.engine.jdbc.mutation.spi.BindingGroup.forEachBinding(BindingGroup.java:51)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.JdbcValueBindingsImpl.beforeStatement(JdbcValueBindingsImpl.java:85)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:57)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)\r\n\tat org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)\r\n\tat org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy201.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:628)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 107 more\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement \"insert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) [*]returning id\"; SQL statement:\ninsert into categorias (activo,descripcion,created_at,updated_at,nombre,version) values (?,?,?,?,?,?) returning id [42000-224]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:514)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:489)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.message.DbException.getSyntaxError(DbException.java:247)\r\n\tat org.h2.command.ParserBase.getSyntaxError(ParserBase.java:748)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:486)\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:639)\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:559)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1166)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1094)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:335)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$2.doPrepare(MutationStatementPreparerImpl.java:61)\r\n\tat org.hibernate.engine.jdbc.internal.MutationStatementPreparerImpl$StatementPreparationTemplate.prepareStatement(MutationStatementPreparerImpl.java:106)\r\n\t... 163 more\r\n","duration":17989800,"status":"failed"},"line":40,"name":"que existen categorías en el sistema","match":{"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.queExistenCategoriasEnElSistema()"},"keyword":"Dado "},{"result":{"status":"skipped"},"line":41,"name":"solicito la lista de categorías","match":{"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.solicitoLaListaDeCategorias()"},"keyword":"Cuando "},{"result":{"status":"skipped"},"line":42,"name":"debo obtener una lista de categorías","match":{"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.deboObtenerUnaListaDeCategorias()"},"keyword":"Entonces "},{"result":{"status":"skipped"},"line":43,"name":"cada categoría debe tener nombre y descripción","match":{"location":"org.example.proyectofinal.cucumber.steps.CategoriaSteps.cadaCategoriaDebeTenerNombreYDescripcion()"},"keyword":"Y "}],"tags":[{"name":"@regresion"},{"name":"@critico"},{"name":"@regresion-categorias"}]},{"start_timestamp":"2025-08-27T05:59:05.934Z","before":[{"result":{"duration":2001700,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":46,"name":"Regresión - Endpoints principales responden","description":"","id":"suite-de-regresión---funcionalidades-críticas;regresión---endpoints-principales-responden","after":[{"result":{"duration":1993900,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}},{"result":{"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownRegresion(io.cucumber.java.Scenario)"}},{"result":{"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownCritico(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"duration":2515200,"status":"passed"},"line":47,"name":"que soy un administrador autenticado","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.que_soy_un_administrador_autenticado()"},"keyword":"Dado "},{"result":{"duration":13994100,"status":"passed"},"line":48,"name":"solicito la lista de productos","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSimpleSteps.solicito_la_lista_de_productos()"},"keyword":"Cuando "},{"result":{"duration":1024800,"status":"passed"},"line":49,"name":"debo obtener una respuesta del sistema","match":{"location":"org.example.proyectofinal.cucumber.steps.ProductoSimpleSteps.debo_obtener_una_respuesta_del_sistema()"},"keyword":"Entonces "}],"tags":[{"name":"@regresion"},{"name":"@critico"},{"name":"@regresion-api"}]},{"start_timestamp":"2025-08-27T05:59:05.988Z","before":[{"result":{"duration":996700,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.setUp(io.cucumber.java.Scenario)"}}],"line":52,"name":"Regresión - Seguridad básica funciona","description":"","id":"suite-de-regresión---funcionalidades-críticas;regresión---seguridad-básica-funciona","after":[{"result":{"duration":992300,"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDown(io.cucumber.java.Scenario)"}},{"result":{"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownRegresion(io.cucumber.java.Scenario)"}},{"result":{"status":"passed"},"match":{"location":"org.example.proyectofinal.cucumber.hooks.CucumberHooks.tearDownCritico(io.cucumber.java.Scenario)"}}],"type":"scenario","keyword":"Escenario","steps":[{"result":{"duration":1000700,"status":"passed"},"line":53,"name":"intento acceder a un recurso protegido sin token","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.intentoAccederAUnRecursoProtegidoSinToken()"},"keyword":"Cuando "},{"result":{"status":"passed"},"line":54,"name":"debo recibir un error de autorización 401","match":{"arguments":[{"val":"401","offset":38}],"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.deboRecibirUnErrorDeAutorizacion(java.lang.Integer)"},"keyword":"Entonces "},{"result":{"status":"passed"},"line":55,"name":"no debo poder acceder al recurso","match":{"location":"org.example.proyectofinal.cucumber.steps.AutenticacionSteps.noDeboPoderAccederAlRecurso()"},"keyword":"Y "}],"tags":[{"name":"@regresion"},{"name":"@critico"},{"name":"@regresion-seguridad"}]}],"name":"Suite de Regresión - Funcionalidades Críticas","description":"  Como desarrollador del sistema\n  Quiero ejecutar pruebas de regresión automáticas\n  Para asegurar que los cambios no afecten funcionalidades existentes","id":"suite-de-regresión---funcionalidades-críticas","keyword":"Característica","uri":"classpath:features/regresion-suite.feature","tags":[{"name":"@regresion","type":"Tag","location":{"line":2,"column":1}},{"name":"@critico","type":"Tag","location":{"line":2,"column":12}}]}]